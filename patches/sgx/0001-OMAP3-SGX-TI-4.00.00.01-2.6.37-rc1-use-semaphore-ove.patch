From f0fce3b189055bcf210c2811594ee9ab1b4e7e3c Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Mon, 1 Nov 2010 10:23:52 -0500
Subject: [PATCH] OMAP3 SGX TI 4.00.00.01 2.6.37-rc1 use semaphore over mutex

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 .../omap3-sgx/services4/srvkm/common/resman.c      |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/staging/omap3-sgx/services4/srvkm/common/resman.c b/drivers/staging/omap3-sgx/services4/srvkm/common/resman.c
index d713c3c..6ccae3b 100644
--- a/drivers/staging/omap3-sgx/services4/srvkm/common/resman.c
+++ b/drivers/staging/omap3-sgx/services4/srvkm/common/resman.c
@@ -46,7 +46,7 @@
 #include <asm/semaphore.h>
 #endif
 
-static DECLARE_MUTEX(lock);
+static DEFINE_SEMAPHORE(lock);
 
 #define ACQUIRE_SYNC_OBJ  do {							\
 		if (in_interrupt()) { 							\
-- 
1.7.1

