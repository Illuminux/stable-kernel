From 3d1d5a1770417599bb70ec29793b2dc71fe87dac Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Fri, 10 Sep 2010 15:04:41 -0500
Subject: [PATCH 3/3] ARM OMAP Touchbook DSS2 support fix supplies

---
 arch/arm/mach-omap2/board-omap3touchbook.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/arch/arm/mach-omap2/board-omap3touchbook.c b/arch/arm/mach-omap2/board-omap3touchbook.c
index 2f7480f..5202b06 100644
--- a/arch/arm/mach-omap2/board-omap3touchbook.c
+++ b/arch/arm/mach-omap2/board-omap3touchbook.c
@@ -328,7 +328,6 @@ static struct regulator_init_data touchbook_vdac = {
 /* VPLL2 for digital video outputs */
 static struct regulator_init_data touchbook_vpll2 = {
 	.constraints = {
-		.name			= "VDVI",
 		.min_uV			= 1800000,
 		.max_uV			= 1800000,
 		.valid_modes_mask	= REGULATOR_MODE_NORMAL
@@ -336,8 +335,8 @@ static struct regulator_init_data touchbook_vpll2 = {
 		.valid_ops_mask		= REGULATOR_CHANGE_MODE
 					| REGULATOR_CHANGE_STATUS,
 	},
-	.num_consumer_supplies	= 1,
-	.consumer_supplies	= &touchbook_vdvi_supply,
+	.num_consumer_supplies  = ARRAY_SIZE(touchbook_vdds_supplies),
+	.consumer_supplies      = touchbook_vdds_supplies,
 };
 
 static struct twl4030_usb_data touchbook_usb_data = {
-- 
1.7.1

