From 8ee96c9b8e23b8b1f7099d3257360d62be601faa Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Thu, 16 Sep 2010 14:32:22 -0500
Subject: [PATCH 11/22] ARM OMAP Touchbook upstream use super_init

---
 arch/arm/mach-omap2/board-omap3touchbook.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

diff --git a/arch/arm/mach-omap2/board-omap3touchbook.c b/arch/arm/mach-omap2/board-omap3touchbook.c
index 5d93535..3e657be 100644
--- a/arch/arm/mach-omap2/board-omap3touchbook.c
+++ b/arch/arm/mach-omap2/board-omap3touchbook.c
@@ -565,7 +565,7 @@ static struct omap_musb_board_data musb_board_data = {
 	.power			= 100,
 };
 
-static void __init omap3_touchbook_init(void)
+static void __init touchbook_init(void)
 {
 	pm_power_off = omap3_touchbook_poweroff;
 
@@ -595,6 +595,11 @@ static void __init omap3_touchbook_init(void)
 	touchbook_display_init();
 }
 
+static void __init super_init(void)
+{
+	touchbook_init();
+}
+
 MACHINE_START(TOUCHBOOK, "OMAP3 touchbook Board")
 	/* Maintainer: Gregoire Gentil - http://www.alwaysinnovating.com */
 	.phys_io	= 0x48000000,
@@ -603,6 +608,6 @@ MACHINE_START(TOUCHBOOK, "OMAP3 touchbook Board")
 	.map_io		= omap3_map_io,
 	.reserve	= omap_reserve,
 	.init_irq	= omap3_touchbook_init_irq,
-	.init_machine	= omap3_touchbook_init,
+	.init_machine	= super_init,
 	.timer		= &omap_timer,
 MACHINE_END
-- 
1.7.1

