From feaf18967c148c33405ab42ee65b4fdd5a5c902b Mon Sep 17 00:00:00 2001
From: Shivananda Hebbar <x0hebbar@ti.com>
Date: Mon, 19 Apr 2010 18:15:12 -0500
Subject: [PATCH 045/135] DSPBRIDGE: replace error code DSP_ESTREAMFULL for -ENOSR

This patch replaces DSP_ESTREAMFULL with -ENOSR.

Signed-off-by: Shivananda Hebbar <x0hebbar@ti.com>
---
 arch/arm/plat-omap/include/dspbridge/strm.h |    2 +-
 drivers/dsp/bridge/rmgr/strm.c              |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm/plat-omap/include/dspbridge/strm.h b/arch/arm/plat-omap/include/dspbridge/strm.h
index 7096457..a67ddb3 100644
--- a/arch/arm/plat-omap/include/dspbridge/strm.h
+++ b/arch/arm/plat-omap/include/dspbridge/strm.h
@@ -234,7 +234,7 @@ extern bool strm_init(void);
  *  Returns:
  *      DSP_SOK:            Success.
  *      DSP_EHANDLE:        Invalid hStrm.
- *      DSP_ESTREAMFULL:    The stream is full.
+ *      -ENOSR:    The stream is full.
  *      -EPERM:          Failure occurred, unable to issue buffer.
  *  Requires:
  *      strm_init(void) called.
diff --git a/drivers/dsp/bridge/rmgr/strm.c b/drivers/dsp/bridge/rmgr/strm.c
index 370cf89..9263ac2 100644
--- a/drivers/dsp/bridge/rmgr/strm.c
+++ b/drivers/dsp/bridge/rmgr/strm.c
@@ -456,7 +456,7 @@ dsp_status strm_issue(struct strm_object *hStrm, IN u8 *pbuf, u32 ul_bytes,
 			     (u32) tmp_buf, dw_arg);
 		}
 		if (status == CHNL_E_NOIORPS)
-			status = DSP_ESTREAMFULL;
+			status = -ENOSR;
 	}
 
 	dev_dbg(bridge, "%s: hStrm: %p pbuf: %p ul_bytes: 0x%x dw_arg: 0x%x "
-- 
1.7.0.4

